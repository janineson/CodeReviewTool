
--app-start--
processing CodeNarcAntReport.html
FILENAME : ? bright-when-dark-and-or-bright-after-sunset.groovy
rule name : AbcMetric line : 49
source line/ message : [SRC]def options() [MSG]Violation in class None. The ABC score for method [options] is [60.7]
rule name : AbcMetric line : 191
source line/ message : [SRC]def initialize() [MSG]Violation in class None. The ABC score for method [initialize] is [71.7]
rule name : CyclomaticComplexity line : 191
source line/ message : [SRC]def initialize() [MSG]Violation in class None. The cyclomatic complexity for method [initialize] is [35]
rule name : SpecificSubscription line : 193
source line/ message : [SRC]subscribe(motionSensor, "motion", motionHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 197
source line/ message : [SRC]subscribe(lights, "switch", lightsHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 199
source line/ message : [SRC]subscribe(dimmers, "switch", dimmersHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 209
source line/ message : [SRC]subscribe(location, "position", locationPositionChange) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 210
source line/ message : [SRC]subscribe(location, "sunriseTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 211
source line/ message : [SRC]subscribe(location, "sunsetTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 221
source line/ message : [SRC]subscribe(lights, "switch", lightsHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 231
source line/ message : [SRC]subscribe(location, "position", locationPositionChange) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 232
source line/ message : [SRC]subscribe(location, "sunriseTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 233
source line/ message : [SRC]subscribe(location, "sunsetTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 243
source line/ message : [SRC]subscribe(dimmers, "switch", dimmersHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 253
source line/ message : [SRC]subscribe(location, "position", locationPositionChange) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 254
source line/ message : [SRC]subscribe(location, "sunriseTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 255
source line/ message : [SRC]subscribe(location, "sunsetTime", sunriseSunsetTimeHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : AbcMetric line : 312
source line/ message : [SRC]def motionHandler(evt) [MSG]Violation in class None. The ABC score for method [motionHandler] is [109.5]
rule name : CyclomaticComplexity line : 312
source line/ message : [SRC]def motionHandler(evt) [MSG]Violation in class None. The cyclomatic complexity for method [motionHandler] is [72]
rule name : MethodSize line : 49
source line/ message : [MSG]Method "options" is 127 lines
rule name : MethodSize line : 191
source line/ message : [MSG]Method "initialize" is 107 lines
rule name : MethodSize line : 312
source line/ message : [MSG]Method "motionHandler" is 191 lines
---Defect Density Metrics (KLOC)---
Reliability - 4.1
Security - 19.13
Maintainability - 6.83
Total Defect Density - 30.05
---Breakdown of Violations and Other Metrics---
Lines of Code : 732
MethodSize : 191
SpecificSubscription : 14
CyclomaticComplexity : 72
AbcMetric : 109.5
Total Violations : 22
 
FILENAME : ? good-night-house.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 53
Total Violations : 0
 
FILENAME : ? goodnight-ubi.groovy
rule name : DocumentExternalHTTPRequests line : 99
source line/ message : [SRC]httpGet("https://portal.theubi.com/webapi/behaviour?acce..=${phrase}") [MSG]Document external HTTP requests.
rule name : EmptyIfStatement line : 113
source line/ message : [SRC]if (theSwitches == "") {} else { // If the user d..o nothing... [MSG]The if statement is empty
---Defect Density Metrics (KLOC)---
Reliability - 13.33
Security - 13.33
Maintainability - 0.0
Total Defect Density - 26.67
---Breakdown of Violations and Other Metrics---
Lines of Code : 75
EmptyIfStatement : 1
DocumentExternalHTTPRequests : 1
Total Violations : 2
 
FILENAME : ? jenkins-notifier.groovy
rule name : DocumentExternalHTTPRequests line : 118
source line/ message : [SRC]httpGet(uri: host, headers: ["Authorization": "${basicAu..]) { resp -> [MSG]Document external HTTP requests.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 21.28
Maintainability - 0.0
Total Defect Density - 21.28
---Breakdown of Violations and Other Metrics---
Lines of Code : 47
DocumentExternalHTTPRequests : 1
Total Violations : 1
 
FILENAME : ? gidjit-hub.groovy
rule name : DocumentExposedEndpoints line : 45
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : EmptyMethod line : 100
source line/ message : [SRC]def initialize() { [MSG]Violation in class None. The method initialize is both empty and not marked with @Override
---Defect Density Metrics (KLOC)---
Reliability - 5.49
Security - 5.49
Maintainability - 0.0
Total Defect Density - 10.99
---Breakdown of Violations and Other Metrics---
Lines of Code : 182
EmptyMethod : 1
DocumentExposedEndpoints : 1
Total Violations : 2
 
FILENAME : ? beaconthings-manager.groovy
rule name : EmptyMethod line : 40
source line/ message : [SRC]def initialize() { [MSG]Violation in class None. The method initialize is both empty and not marked with @Override
rule name : DocumentExposedEndpoints line : 47
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
---Defect Density Metrics (KLOC)---
Reliability - 9.8
Security - 9.8
Maintainability - 0.0
Total Defect Density - 19.61
---Breakdown of Violations and Other Metrics---
Lines of Code : 102
EmptyMethod : 1
DocumentExposedEndpoints : 1
Total Violations : 2
 
FILENAME : ? obything-music-connect.groovy
rule name : EmptyMethod line : 43
source line/ message : [SRC]def updated() { [MSG]Violation in class None. The method updated is both empty and not marked with @Override
rule name : HandleNullValue line : 63
source line/ message : [SRC]def hubNames = location.hubs*.name.findAll { it } [MSG]Handle null values. Avoid NullPointerException by using the safe navigation (?) operator.
---Defect Density Metrics (KLOC)---
Reliability - 50.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 50.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 40
HandleNullValue : 1
EmptyMethod : 1
Total Violations : 2
 
FILENAME : ? working-from-home.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 93
Total Violations : 0
 
FILENAME : ? vinli-home-connect.groovy
rule name : DocumentExposedEndpoints line : 25
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 7.19
Maintainability - 0.0
Total Defect Density - 7.19
---Breakdown of Violations and Other Metrics---
Lines of Code : 139
DocumentExposedEndpoints : 1
Total Violations : 1
 
FILENAME : ? curb-control.groovy
rule name : DocumentExposedEndpoints line : 24
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : EmptyMethod line : 44
source line/ message : [SRC]def installed() {} [MSG]Violation in class None. The method installed is both empty and not marked with @Override
rule name : EmptyMethod line : 46
source line/ message : [SRC]def updated() {} [MSG]Violation in class None. The method updated is both empty and not marked with @Override
rule name : InvertedIfElse line : 86
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 105
source line/ message : [SRC]if (!d) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 19.61
Security - 9.8
Maintainability - 19.61
Total Defect Density - 49.02
---Breakdown of Violations and Other Metrics---
Lines of Code : 102
EmptyMethod : 2
DocumentExposedEndpoints : 1
InvertedIfElse : 2
Total Violations : 5
 
FILENAME : ? curb-energy-monitor.groovy
rule name : MethodCount line : 17
source line/ message : [SRC]include 'asynchttp_v1' [MSG]Class None has 32 methods
rule name : DocumentExposedEndpoints line : 43
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : AvoidRecurringShortSchedules line : 69
source line/ message : [SRC]runEvery1Minute(getAllData) [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : DocumentExternalHTTPRequests line : 129
source line/ message : [SRC]httpPostJson([uri: curbTokenUrl, body: tokenParams]) { [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 160
source line/ message : [SRC]httpGet(params) { [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 339
source line/ message : [SRC]httpPostJson([uri: curbTokenUrl, body: tokenParams]) { [MSG]Document external HTTP requests.
rule name : CouldBeElvis line : 78
source line/ message : [SRC]if (!atomicState.accessToken) { [MSG]Code could use elvis operator: atomicState.accessToken = atomicState.accessToken ?: this.createAccessToken()
rule name : InvertedIfElse line : 329
source line/ message : [SRC]if (!atomicState.refreshToken) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 4.99
Security - 9.98
Maintainability - 4.99
Total Defect Density - 19.95
---Breakdown of Violations and Other Metrics---
Lines of Code : 401
AvoidRecurringShortSchedules : 1
MethodCount : 32
DocumentExternalHTTPRequests : 3
DocumentExposedEndpoints : 1
CouldBeElvis : 1
InvertedIfElse : 1
Total Violations : 8
 
FILENAME : ? netatmo-connect.groovy
rule name : MethodCount line : 18
source line/ message : [SRC]definition( [MSG]Class None has 37 methods
rule name : DocumentExposedEndpoints line : 39
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : DocumentExternalHTTPRequests line : 145
source line/ message : [SRC]httpPost(requestTokenParams) { resp -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 281
source line/ message : [SRC]httpPost(requestOauthParams) { resp -> [MSG]Document external HTTP requests.
rule name : AtomicStateUsage line : 326
source line/ message : [SRC]def detail = state?.deviceDetail[deviceId] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : MissingSwitchDefault line : 329
source line/ message : [SRC]switch(detail?.type) { [MSG]Missing default: case statement in switch().
rule name : AtomicStateUsage line : 373
source line/ message : [SRC]state.deviceDetail = [:] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 374
source line/ message : [SRC]state.deviceState = [:] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 380
source line/ message : [SRC]state.deviceDetail[key] = value [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 381
source line/ message : [SRC]state.deviceState[key] = value.dashboard_data [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 385
source line/ message : [SRC]state.deviceDetail[key2] = value2 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 386
source line/ message : [SRC]state.deviceState[key2] = value2.dashboard_data [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : DocumentExternalHTTPRequests line : 457
source line/ message : [SRC]httpGet(apiGetParams) { resp -> [MSG]Document external HTTP requests.
rule name : CyclomaticComplexity line : 474
source line/ message : [SRC]def poll() { [MSG]Violation in class None. The cyclomatic complexity for method [poll] is [23]
rule name : AtomicStateUsage line : 483
source line/ message : [SRC]def detail = state?.deviceDetail[deviceId] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 484
source line/ message : [SRC]def data = state?.deviceState[deviceId] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : MissingSwitchDefault line : 488
source line/ message : [SRC]switch(detail?.type) { [MSG]Missing default: case statement in switch().
rule name : HandleNullValue line : 554
source line/ message : [SRC]return location.hubs*.firmwareVersionString.findAll { it } [MSG]Handle null values. Avoid NullPointerException by using the safe navigation (?) operator.
rule name : InvertedIfElse line : 70
source line/ message : [SRC]if (!oauthTokenProvided) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 408
source line/ message : [SRC]if(!existingDevice) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 28.76
Security - 8.85
Maintainability - 6.64
Total Defect Density - 44.25
---Breakdown of Violations and Other Metrics---
Lines of Code : 452
HandleNullValue : 1
MissingSwitchDefault : 2
MethodCount : 37
AtomicStateUsage : 9
DocumentExternalHTTPRequests : 3
DocumentExposedEndpoints : 1
CyclomaticComplexity : 23
InvertedIfElse : 2
Total Violations : 20
 
FILENAME : ? thermostat-auto-off.groovy
rule name : SpecificSubscription line : 47
source line/ message : [SRC]subscribe(sensors, 'contact', "sensorChange") [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 15.87
Maintainability - 0.0
Total Defect Density - 15.87
---Breakdown of Violations and Other Metrics---
Lines of Code : 63
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? whole-house-fan.groovy
rule name : SpecificSubscription line : 67
source line/ message : [SRC]subscribe(thermostat, "thermostatMode", "checkThings"); [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 68
source line/ message : [SRC]subscribe(contacts, "contact", "checkThings"); [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 27.03
Maintainability - 0.0
Total Defect Density - 27.03
---Breakdown of Violations and Other Metrics---
Lines of Code : 74
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? humidity-alert.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 78
Total Violations : 0
 
FILENAME : ? let-there-be-dark.groovy
rule name : SpecificSubscription line : 27
source line/ message : [SRC]subscribe(contact1, "contact", contactHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 32
source line/ message : [SRC]subscribe(contact1, "contact", contactHandler) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 58.82
Maintainability - 0.0
Total Defect Density - 58.82
---Breakdown of Violations and Other Metrics---
Lines of Code : 34
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? smart-windows.groovy
rule name : CyclomaticComplexity line : 71
source line/ message : [SRC]def temperatureHandler(evt) { [MSG]Violation in class None. The cyclomatic complexity for method [temperatureHandler] is [21]
rule name : CouldBeElvis line : 88
source line/ message : [SRC]if (!retryPeriod) { [MSG]Code could use elvis operator: retryPeriod = retryPeriod ?: 30
rule name : InvertedIfElse line : 104
source line/ message : [SRC]if ( !alreadyNotified ) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 120
source line/ message : [SRC]if ( !alreadyNotified ) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 34.48
Total Defect Density - 34.48
---Breakdown of Violations and Other Metrics---
Lines of Code : 116
CyclomaticComplexity : 21
CouldBeElvis : 1
InvertedIfElse : 2
Total Violations : 4
 
FILENAME : ? weather-windows.groovy
rule name : CyclomaticComplexity line : 65
source line/ message : [SRC]def temperatureHandler(evt) { [MSG]Violation in class None. The cyclomatic complexity for method [temperatureHandler] is [21]
rule name : InvertedIfElse line : 96
source line/ message : [SRC]if ( !alreadyNotified ) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 112
source line/ message : [SRC]if ( !alreadyNotified ) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 27.78
Total Defect Density - 27.78
---Breakdown of Violations and Other Metrics---
Lines of Code : 108
CyclomaticComplexity : 21
InvertedIfElse : 2
Total Violations : 3
 
FILENAME : ? smart-energy-service.groovy
rule name : DocumentExposedEndpoints line : 62
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : AbcMetric line : 76
source line/ message : [SRC]def checkAccessToken() { [MSG]Violation in class None. The ABC score for method [checkAccessToken] is [94.2]
rule name : AtomicStateUsage line : 92
source line/ message : [SRC]if (!state.languageString) { [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 100
source line/ message : [SRC]if (!state.accessToken) { /*if smartThings' access token..not exitst*/ [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 115
source line/ message : [SRC]paragraph state.languageString."${atomicState.language}".desc1 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 116
source line/ message : [SRC]href(title: state.languageString."${atomicState.language}".main, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 117
source line/ message : [SRC]description: state.languageString."${atomicState.language}".desc2, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 126
source line/ message : [SRC]section(title:state.languageString."${atomicState.language}".title6) { [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 132
source line/ message : [SRC]title: state.languageString."${atomicState.language}".title1, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 142
source line/ message : [SRC]title: state.languageString."${atomicState.language}".title2, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 143
source line/ message : [SRC]description : state.languageString."${atomicState.langua..".subTitle1, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 144
source line/ message : [SRC]defaultValue: state.languageString.energyPlan, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 155
source line/ message : [SRC]title: state.languageString."${atomicState.language}".title3, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 156
source line/ message : [SRC]defaultValue : state.languageString."${atomicState.langu..es.default1, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 159
source line/ message : [SRC]options: state.languageString."${atomicState.language}".displayUnits [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 166
source line/ message : [SRC]title: state.languageString."${atomicState.language}".title4, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 167
source line/ message : [SRC]defaultValue: state.languageString."${atomicState.langua..es.default2, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 170
source line/ message : [SRC]options: state.languageString."${atomicState.language}".meteringDays [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 177
source line/ message : [SRC]title: state.languageString."${atomicState.language}".title5, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 178
source line/ message : [SRC]defaultValue: state.languageString."${atomicState.langua..es.default3, [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 181
source line/ message : [SRC]options: state.languageString."${atomicState.language}".contractTypes) [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 299
source line/ message : [SRC]def changeToUsageParam = makeGetParams("${state.domains...nergyPlan}", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 309
source line/ message : [SRC]def configurationParam = makePostParams("${state.domains..}"}/1.2/me", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 329
source line/ message : [SRC]def pushParams = makePostParams("${state.domains."${atom..vents/push", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 331
source line/ message : [SRC][type: "REST", regId:"${state.accessToken}__${app.id}"]) [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 421
source line/ message : [SRC]state.domains = [ [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 425
source line/ message : [SRC]state.languageString = [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 562
source line/ message : [SRC]def url = "https://graph.api.smartthings.com/api/token/$..appingPath}" [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : DocumentExternalHTTPRequests line : 738
source line/ message : [SRC]httpPost(param) { resp -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 753
source line/ message : [SRC]httpGet(param) { resp -> [MSG]Document external HTTP requests.
rule name : AbcMetric line : 795
source line/ message : [SRC]def getHtml() { [MSG]Violation in class None. The ABC score for method [getHtml] is [235.0]
rule name : CyclomaticComplexity line : 795
source line/ message : [SRC]def getHtml() { [MSG]Violation in class None. The cyclomatic complexity for method [getHtml] is [45]
rule name : AtomicStateUsage line : 856
source line/ message : [SRC]def deviceStatusParam = makeGetParams( "${state.domains...id}/status", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 864
source line/ message : [SRC]def standbyParam = makeGetParams( "${state.domains."${at..andbyPower", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 873
source line/ message : [SRC]def meParam = makeGetParams( "${state.domains."${atomicS..}"}/1.2/me", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 881
source line/ message : [SRC]def meteringParam = makeGetParams( "${state.domains."${a..eringUsage", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 889
source line/ message : [SRC]def rankingParam = makeGetParams( "${state.domains."${at..od=monthly", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 959
source line/ message : [SRC]def lastMonthParam = makeGetParams( "${state.domains."${..end=${end}", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 978
source line/ message : [SRC]def realTimeParam = makeGetParams("${state.domains."${at..ltimeUsage", [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 998
source line/ message : [SRC]d?.sendEvent(name: "month", value : "\n ${state.language..er} \n\n " + [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 999
source line/ message : [SRC]"${state.languageString."${atomicState.language}".messag..ody1} \n " + [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1000
source line/ message : [SRC]"${state.languageString."${atomicState.language}".messag..ody2} \n " + [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1001
source line/ message : [SRC]"${state.languageString."${atomicState.language}".message4.body3}") [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1250
source line/ message : [SRC]d?.sendEvent(name: "month", value : "\n ${state.language..ge3.body2}") [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1250
source line/ message : [SRC]d?.sendEvent(name: "month", value : "\n ${state.language..ge3.body2}") [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1250
source line/ message : [SRC]d?.sendEvent(name: "month", value : "\n ${state.language..ge3.body2}") [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1253
source line/ message : [SRC]if (state.language == "ko") { [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1268
source line/ message : [SRC]<p class="st-pairing-card-header" align="center">${state...header}</p> [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1269
source line/ message : [SRC]<p class="st-pairing-card-body" align="center"> ${state...3.body2}</p> [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1269
source line/ message : [SRC]<p class="st-pairing-card-body" align="center"> ${state...3.body2}</p> [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1279
source line/ message : [SRC]<p class="value last">${state.languageString."${atomicSt..button2}</p> [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1291
source line/ message : [SRC]\$("#st-deep-link-container").html("<a id=\'st-deep-link..}</p></a>"); [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1291
source line/ message : [SRC]\$("#st-deep-link-container").html("<a id=\'st-deep-link..}</p></a>"); [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1293
source line/ message : [SRC]\$("#st-deep-link-container").html("<a id=\'st-deep-link..}</p></a>"); [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1293
source line/ message : [SRC]\$("#st-deep-link-container").html("<a id=\'st-deep-link..}</p></a>"); [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : MethodSize line : 76
source line/ message : [MSG]Method "checkAccessToken" is 111 lines
rule name : InvertedIfElse line : 96
source line/ message : [SRC]if (!atomicState.encoredAccessToken) { /*check if Encore..oes exist.*/ [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 343
source line/ message : [SRC]if(!d) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : MethodSize line : 420
source line/ message : [MSG]Method "createLocaleStrings" is 138 lines
rule name : InvertedIfElse line : 702
source line/ message : [SRC]if(!atomicState.encoredRefreshToken) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : MethodSize line : 795
source line/ message : [MSG]Method "getHtml" is 520 lines
rule name : InvertedIfElse line : 852
source line/ message : [SRC]if (!atomicState.notPaired) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : CouldBeElvis line : 982
source line/ message : [SRC]if (!realTimeInfo) { [MSG]Code could use elvis operator: realTimeInfo = realTimeInfo ?: 0
rule name : InvertedIfElse line : 982
source line/ message : [SRC]if (!realTimeInfo) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 99.43
Security - 5.74
Maintainability - 17.21
Total Defect Density - 122.37
---Breakdown of Violations and Other Metrics---
Lines of Code : 523
MethodSize : 520
AtomicStateUsage : 49
DocumentExternalHTTPRequests : 2
DocumentExposedEndpoints : 1
CyclomaticComplexity : 45
AbcMetric : 235.0
CouldBeElvis : 1
InvertedIfElse : 5
Total Violations : 64
 
FILENAME : ? gideon.groovy
rule name : SpecificSubscription line : 65
source line/ message : [SRC]subscribe(outlet, "switch", outletHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : DocumentExposedEndpoints line : 80
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : InvertedIfElse line : 142
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 153
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 173
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 184
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 195
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 207
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 228
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 248
source line/ message : [SRC]if (!device) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 10.05
Maintainability - 40.2
Total Defect Density - 50.25
---Breakdown of Violations and Other Metrics---
Lines of Code : 199
DocumentExposedEndpoints : 1
SpecificSubscription : 1
InvertedIfElse : 8
Total Violations : 10
 
FILENAME : ? coffee-after-shower.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 36
Total Violations : 0
 
FILENAME : ? door-knocker.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 64
Total Violations : 0
 
FILENAME : ? forgiving-security.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 87
Total Violations : 0
 
FILENAME : ? hall-light-welcome-home.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 54
Total Violations : 0
 
FILENAME : ? nobody-home.groovy
rule name : SpecificSubscription line : 53
source line/ message : [SRC]subscribe(people, "presence", presence) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 8.4
Maintainability - 0.0
Total Defect Density - 8.4
---Breakdown of Violations and Other Metrics---
Lines of Code : 119
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? ready-for-rain.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 106
Total Violations : 0
 
FILENAME : ? safe-watch.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 99
Total Violations : 0
 
FILENAME : ? thermostat-window-check.groovy
rule name : SpecificSubscription line : 46
source line/ message : [SRC]subscribe(thermostats, "thermostatMode", thermoChange); [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 52
source line/ message : [SRC]subscribe(thermostats, "thermostatMode", thermoChange); [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 21.28
Maintainability - 0.0
Total Defect Density - 21.28
---Breakdown of Violations and Other Metrics---
Lines of Code : 94
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? initial-state-event-streamer.groovy
rule name : DocumentExposedEndpoints line : 65
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : CyclomaticComplexity line : 136
source line/ message : [SRC]def subscribeToEvents() { [MSG]Violation in class None. The cyclomatic complexity for method [subscribeToEvents] is [26]
rule name : SpecificSubscription line : 138
source line/ message : [SRC]subscribe(accelerometers, "acceleration", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 141
source line/ message : [SRC]subscribe(alarms, "alarm", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 147
source line/ message : [SRC]subscribe(beacons, "presence", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 151
source line/ message : [SRC]subscribe(cos, "carbonMonoxide", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 159
source line/ message : [SRC]subscribe(contacts, "contact", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 168
source line/ message : [SRC]subscribe(locks, "lock", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 171
source line/ message : [SRC]subscribe(motions, "motion", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 178
source line/ message : [SRC]subscribe(musicPlayers, "mute", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 184
source line/ message : [SRC]subscribe(presences, "presence", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 190
source line/ message : [SRC]subscribe(relaySwitches, "switch", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 193
source line/ message : [SRC]subscribe(sleepSensors, "sleeping", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 196
source line/ message : [SRC]subscribe(smokeDetectors, "smoke", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 203
source line/ message : [SRC]subscribe(switches, "switch", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 216
source line/ message : [SRC]subscribe(thermostats, "thermostatMode", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 217
source line/ message : [SRC]subscribe(thermostats, "thermostatFanMode", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 218
source line/ message : [SRC]subscribe(thermostats, "thermostatOperatingState", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 221
source line/ message : [SRC]subscribe(valves, "contact", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 224
source line/ message : [SRC]subscribe(waterSensors, "water", genericHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : AtomicStateUpdateUsage line : 287
source line/ message : [SRC]def bucketCreatePost = [ [MSG]Modifying collections in Atomic State does not work as it does with State. Read documentation for reference.
rule name : DocumentExternalHTTPRequests line : 300
source line/ message : [SRC]httpPostJson(bucketCreatePost) { resp -> [MSG]Document external HTTP requests.
rule name : AtomicStateUpdateUsage line : 353
source line/ message : [SRC]def eventPost = [ [MSG]Modifying collections in Atomic State does not work as it does with State. Read documentation for reference.
rule name : DocumentExternalHTTPRequests line : 366
source line/ message : [SRC]httpPostJson(eventPost) { resp -> [MSG]Document external HTTP requests.
rule name : CouldBeElvis line : 275
source line/ message : [SRC]if (!atomicState.bucketName) { [MSG]Code could use elvis operator: atomicState.bucketName = atomicState.bucketName ?: atomicState.bucketKey
---Defect Density Metrics (KLOC)---
Reliability - 6.58
Security - 69.08
Maintainability - 6.58
Total Defect Density - 82.24
---Breakdown of Violations and Other Metrics---
Lines of Code : 304
AtomicStateUpdateUsage : 2
DocumentExternalHTTPRequests : 2
DocumentExposedEndpoints : 1
SpecificSubscription : 18
CyclomaticComplexity : 26
CouldBeElvis : 1
Total Violations : 25
 
FILENAME : ? my-light-toggle.groovy
rule name : SpecificSubscription line : 55
source line/ message : [SRC]subscribe(motionToggler, "motion", toggleSwitches) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 23.81
Maintainability - 0.0
Total Defect Density - 23.81
---Breakdown of Violations and Other Metrics---
Lines of Code : 42
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? door-jammed-notification.groovy
rule name : SpecificSubscription line : 48
source line/ message : [SRC]subscribe(doorSensor, "doorState", coopDoorStateHandler) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 22.73
Maintainability - 0.0
Total Defect Density - 22.73
---Breakdown of Violations and Other Metrics---
Lines of Code : 44
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? door-state-to-color-light-hue-bulb.groovy
rule name : SpecificSubscription line : 48
source line/ message : [SRC]subscribe(doorSensor, "doorState", coopDoorStateHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : MissingSwitchDefault line : 59
source line/ message : [SRC]switch(evt.value) { [MSG]Missing default: case statement in switch().
rule name : MissingSwitchDefault line : 83
source line/ message : [SRC]switch(color) { [MSG]Missing default: case statement in switch().
---Defect Density Metrics (KLOC)---
Reliability - 18.52
Security - 9.26
Maintainability - 0.0
Total Defect Density - 27.78
---Breakdown of Violations and Other Metrics---
Lines of Code : 108
MissingSwitchDefault : 2
SpecificSubscription : 1
Total Violations : 3
 
FILENAME : ? auto-humidity-vent.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 182
Total Violations : 0
 
FILENAME : ? jawbone-button-notifier.groovy
rule name : SpecificSubscription line : 61
source line/ message : [SRC]subscribe(jawbone, "sleeping", sendit) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 16.39
Maintainability - 0.0
Total Defect Density - 16.39
---Breakdown of Violations and Other Metrics---
Lines of Code : 61
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? jawbone-up-connect.groovy
rule name : DocumentExposedEndpoints line : 30
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : DocumentExternalHTTPRequests line : 114
source line/ message : [SRC]httpGet(params) { response -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 238
source line/ message : [SRC]httpPost(uri: url, headers: ["Authorization": "Bearer ${..{response -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 254
source line/ message : [SRC]httpGet(params) { refreshResponse -> [MSG]Document external HTTP requests.
rule name : NestedBlockDepth line : 258
source line/ message : [SRC]if (data.error == "access_denied") { [MSG]The nested block depth is 6
rule name : DocumentExternalHTTPRequests line : 282
source line/ message : [SRC]httpPost(uri: webhook, headers: ["Authorization": "Beare..ssToken}" ]) [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 292
source line/ message : [SRC]httpGet(uri: urlmember, headers: ["Authorization": "Bear..{response -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 346
source line/ message : [SRC]httpDelete(uri: "https://jawbone.com/nudge/api/v.1.0/use.. response -> [MSG]Document external HTTP requests.
rule name : MissingSwitchDefault line : 452
source line/ message : [SRC]switch (json_action) { [MSG]Missing default: case statement in switch().
rule name : DocumentExternalHTTPRequests line : 467
source line/ message : [SRC]httpGet(uri: urlgoals, headers: ["Authorization": "Beare..{response -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 470
source line/ message : [SRC]httpGet(uri: urlmoves, headers: ["Authorization": "Beare..{response -> [MSG]Document external HTTP requests.
---Defect Density Metrics (KLOC)---
Reliability - 2.49
Security - 22.44
Maintainability - 2.49
Total Defect Density - 27.43
---Breakdown of Violations and Other Metrics---
Lines of Code : 401
MissingSwitchDefault : 1
DocumentExternalHTTPRequests : 8
DocumentExposedEndpoints : 1
NestedBlockDepth : 1
Total Violations : 11
 
FILENAME : ? turn-off-with-motion.groovy
rule name : SpecificSubscription line : 42
source line/ message : [SRC]subscribe(motion1, "motion", motionHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 49
source line/ message : [SRC]subscribe(motion1, "motion", motionHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : CouldBeElvis line : 62
source line/ message : [SRC]if (!state.inactiveAt) { [MSG]Code could use elvis operator: state.inactiveAt = state.inactiveAt ?: this.now()
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 34.48
Maintainability - 17.24
Total Defect Density - 51.72
---Breakdown of Violations and Other Metrics---
Lines of Code : 58
SpecificSubscription : 2
CouldBeElvis : 1
Total Violations : 3
 
FILENAME : ? enhanced-auto-lock-door.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 105
Total Violations : 0
 
FILENAME : ? weather-underground-pws-connect.groovy
rule name : DocumentExternalHTTPRequests line : 98
source line/ message : [SRC]httpGet(params) { resp -> // This is how we define the "..lso use $it. [MSG]Document external HTTP requests.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 15.15
Maintainability - 0.0
Total Defect Density - 15.15
---Breakdown of Violations and Other Metrics---
Lines of Code : 66
DocumentExternalHTTPRequests : 1
Total Violations : 1
 
FILENAME : ? medicine-management-contact-sensor.groovy
rule name : SpecificSubscription line : 68
source line/ message : [SRC]subscribe(deviceContactSensor, "contact", contactHandler) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 10.2
Maintainability - 0.0
Total Defect Density - 10.2
---Breakdown of Violations and Other Metrics---
Lines of Code : 98
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? medicine-management-temp-motion.groovy
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 0.0
Maintainability - 0.0
Total Defect Density - 0.0
---Breakdown of Violations and Other Metrics---
Lines of Code : 100
Total Violations : 0
 
FILENAME : ? color-coordinator.groovy
rule name : SpecificSubscription line : 77
source line/ message : [SRC]subscribe(master, "switch", onOffHandler) [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 7.19
Maintainability - 0.0
Total Defect Density - 7.19
---Breakdown of Violations and Other Metrics---
Lines of Code : 139
SpecificSubscription : 1
Total Violations : 1
 
FILENAME : ? switch-activates-home-phrase-or-mode.groovy
rule name : SpecificSubscription line : 74
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 80
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 18.35
Maintainability - 0.0
Total Defect Density - 18.35
---Breakdown of Violations and Other Metrics---
Lines of Code : 109
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? switch-activates-home-phrase.groovy
rule name : SpecificSubscription line : 56
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 62
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 45.45
Maintainability - 0.0
Total Defect Density - 45.45
---Breakdown of Violations and Other Metrics---
Lines of Code : 44
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? switch-changes-mode.groovy
rule name : SpecificSubscription line : 47
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 54
source line/ message : [SRC]subscribe(controlSwitch, "switch", "switchHandler") [MSG]Subscription must be specific to the Event you are interested in.
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 43.48
Maintainability - 0.0
Total Defect Density - 43.48
---Breakdown of Violations and Other Metrics---
Lines of Code : 46
SpecificSubscription : 2
Total Violations : 2
 
FILENAME : ? lights-off-with-no-motion-and-presence.groovy
rule name : SpecificSubscription line : 31
source line/ message : [SRC]subscribe(motionSensor, "motion", motionHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 32
source line/ message : [SRC]subscribe(presenceSensors, "presence", presenceHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 37
source line/ message : [SRC]subscribe(motionSensor, "motion", motionHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 38
source line/ message : [SRC]subscribe(presenceSensors, "presence", presenceHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : InvertedIfElse line : 68
source line/ message : [SRC]if (!isActivePresence()) { [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 60.61
Maintainability - 15.15
Total Defect Density - 75.76
---Breakdown of Violations and Other Metrics---
Lines of Code : 66
SpecificSubscription : 4
InvertedIfElse : 1
Total Violations : 5
 
FILENAME : ? opent2t-smartapp-test.groovy
rule name : DocumentExposedEndpoints line : 72
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : SpecificSubscription line : 151
source line/ message : [SRC]subscribe(myDevice, att.name, deviceEventHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 170
source line/ message : [SRC]subscribe(myDevice, att.name, deviceEventHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : CyclomaticComplexity line : 574
source line/ message : [SRC]private mapDeviceCommands(command, value) { [MSG]Violation in class None. The cyclomatic complexity for method [mapDeviceCommands] is [26]
---Defect Density Metrics (KLOC)---
Reliability - 0.0
Security - 17.65
Maintainability - 5.88
Total Defect Density - 23.53
---Breakdown of Violations and Other Metrics---
Lines of Code : 170
DocumentExposedEndpoints : 1
SpecificSubscription : 2
CyclomaticComplexity : 26
Total Violations : 4
 
FILENAME : ? plantlink-connector.groovy
rule name : DocumentExposedEndpoints line : 46
source line/ message : [SRC]mappings { [MSG]Document any exposed endpoints.
rule name : AtomicStateUsage line : 57
source line/ message : [SRC]atomicState.accessToken = state.accessToken [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : SpecificSubscription line : 111
source line/ message : [SRC]subscribe(plantlinksensors, "moisture_status", moistureHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 112
source line/ message : [SRC]subscribe(plantlinksensors, "battery_status", batteryHandler) [MSG]Subscription must be specific to the Event you are interested in.
rule name : DocumentExternalHTTPRequests line : 141
source line/ message : [SRC]httpPost(docking_params) { docking_response -> [MSG]Document external HTTP requests.
rule name : NestedBlockDepth line : 150
source line/ message : [SRC]httpPost(plant_post_params) { plant_post_response -> [MSG]The nested block depth is 6
rule name : NestedBlockDepth line : 151
source line/ message : [SRC]if(parse_api_response(plant_post_response, 'creating plant')){ [MSG]The nested block depth is 7
rule name : DocumentExternalHTTPRequests line : 214
source line/ message : [SRC]httpPost(measurement_post_params) { measurement_post_response -> [MSG]Document external HTTP requests.
rule name : NestedBlockDepth line : 222
source line/ message : [SRC]if (sensor_device.id == event.deviceId){ [MSG]The nested block depth is 6
rule name : NestedBlockDepth line : 224
source line/ message : [SRC]if (plant.last_measurements && plant.last_measurements[0].moisture){ [MSG]The nested block depth is 7
rule name : NestedBlockDepth line : 227
source line/ message : [SRC]if (plant.last_measurements && plant.last_measurements[0].battery){ [MSG]The nested block depth is 7
rule name : DocumentExternalHTTPRequests line : 255
source line/ message : [SRC]httpPost(measurement_post_params) { measurement_post_response -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 299
source line/ message : [SRC]httpPost(postParams) { resp -> [MSG]Document external HTTP requests.
rule name : DocumentExternalHTTPRequests line : 358
source line/ message : [SRC]httpPost(refreshParams) { resp -> [MSG]Document external HTTP requests.
rule name : InvertedIfElse line : 68
source line/ message : [SRC]if (!oauthTokenProvided) { [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 203
source line/ message : [SRC]if (!atomicState.attached_sensors.containsKey(device_serial)){ [MSG]Testing the negative condition first can make an if statement confusing
rule name : InvertedIfElse line : 244
source line/ message : [SRC]if (!atomicState.attached_sensors.containsKey(device_serial)){ [MSG]Testing the negative condition first can make an if statement confusing
---Defect Density Metrics (KLOC)---
Reliability - 2.73
Security - 21.86
Maintainability - 21.86
Total Defect Density - 46.45
---Breakdown of Violations and Other Metrics---
Lines of Code : 366
AtomicStateUsage : 1
DocumentExternalHTTPRequests : 5
DocumentExposedEndpoints : 1
SpecificSubscription : 2
NestedBlockDepth : 5
InvertedIfElse : 3
Total Violations : 17
 
FILENAME : ? spruce-scheduler.groovy
rule name : MethodCount line : 30
source line/ message : [SRC]definition( [MSG]Class None has 100 methods
rule name : UseConsistentReturnValue line : 206
source line/ message : [SRC]if (!startTime) return 'Please set!' else return hhmm(startTime) [MSG]Use consistent return values.
rule name : IfStatementCouldBeTernary line : 212
source line/ message : [SRC]else if (enableManual) return 'Off & Manual Set' [MSG]The if statement in class None can be rewritten using the ternary operator: return enableManual ? 'Off & Manual Set' : 'Off'
rule name : UseConsistentReturnValue line : 255
source line/ message : [SRC]if (settings.isRain) return settings.rainDelay as String..return 'Off' [MSG]Use consistent return values.
rule name : IfStatementCouldBeTernary line : 259
source line/ message : [SRC]if(settings.isSeason) return 'On' else return 'Off' [MSG]The if statement in class None can be rewritten using the ternary operator: return settings.isSeason ? 'On' : 'Off'
rule name : IfStatementCouldBeTernary line : 263
source line/ message : [SRC]if (settings.sync) return "${settings.sync.displayName}"..eturn 'None' [MSG]The if statement in class None can be rewritten using the ternary operator: return settings.sync ? "$settings.sync.displayName" : 'None'
rule name : UseConsistentReturnValue line : 313
source line/ message : [SRC]if (!pumpDelay) return '0' else return pumpDelay as String [MSG]Use consistent return values.
rule name : AbcMetric line : 364
source line/ message : [SRC]def zonePage() { [MSG]Violation in class None. The ABC score for method [zonePage] is [100.0]
rule name : UseConsistentReturnValue line : 586
source line/ message : [SRC]if (settings."zone${state.app}") return settings."zone${..rn 'Not Set' [MSG]Use consistent return values.
rule name : DeadCode line : 587
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : UseConsistentReturnValue line : 589
source line/ message : [SRC]if (settings."plant${state.app}") return settings."plant..rn 'Not Set' [MSG]Use consistent return values.
rule name : DeadCode line : 590
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : UseConsistentReturnValue line : 592
source line/ message : [SRC]if (settings."option${state.app}") return settings."opti..rn 'Not Set' [MSG]Use consistent return values.
rule name : DeadCode line : 593
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : UseConsistentReturnValue line : 595
source line/ message : [SRC]return '????' [MSG]Use consistent return values.
rule name : CyclomaticComplexity line : 770
source line/ message : [SRC]private String getimage(String image){ [MSG]Violation in class None. The cyclomatic complexity for method [getimage] is [28]
rule name : UseConsistentReturnValue line : 831
source line/ message : [SRC]if (settings."name${i}") return settings."name${i}" else.. "Zone ${i}" [MSG]Use consistent return values.
rule name : UseConsistentReturnValue line : 838
source line/ message : [SRC]else return settings.zipcode [MSG]Use consistent return values.
rule name : AtomicStateUsage line : 848
source line/ message : [SRC]state.pauseTime = null [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 862
source line/ message : [SRC]if (!state.seasonAdj) state.seasonAdj = 100.0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 862
source line/ message : [SRC]if (!state.seasonAdj) state.seasonAdj = 100.0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 863
source line/ message : [SRC]if (!state.weekseasonAdj) state.weekseasonAdj = 0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 863
source line/ message : [SRC]if (!state.weekseasonAdj) state.weekseasonAdj = 0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 864
source line/ message : [SRC]if (state.daysAvailable != 0) state.daysAvailable = 0 /..sAvailable() [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 864
source line/ message : [SRC]if (state.daysAvailable != 0) state.daysAvailable = 0 /..sAvailable() [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 865
source line/ message : [SRC]state.daysAvailable = daysAvailable() // every time..the schedule [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AvoidRecurringShortSchedules line : 914
source line/ message : [SRC]runIn(15, cycleOn) // goose the cycle, just in case [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : DeadCode line : 922
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : AvoidRecurringShortSchedules line : 936
source line/ message : [SRC]runIn(15, cycleOn) [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : DeadCode line : 938
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : DeadCode line : 951
source line/ message : [SRC]break [MSG]This code cannot be reached
rule name : AvoidRecurringShortSchedules line : 987
source line/ message : [SRC]runIn(2, preCheck) // run it off a schedule, so we ..he app.state [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : IfStatementCouldBeTernary line : 994
source line/ message : [SRC]if (settings.toggles && settings.toggles.currentSwitch.c.. return true [MSG]The if statement in class None can be rewritten using the ternary operator: return (settings.toggles && settings.toggles.currentSwitch.contains(settings.toggleStop)) ? true : false
rule name : SpecificSubscription line : 1003
source line/ message : [SRC]subscribe(settings.contacts, "contact.${settings.contact.., waterStop) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 1007
source line/ message : [SRC]subscribe(settings.toggles, "switch.${settings.toggleSto.., waterStop) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 1016
source line/ message : [SRC]subscribe(settings.contacts, "contact.${cond}", waterStart) [MSG]Subscription must be specific to the Event you are interested in.
rule name : SpecificSubscription line : 1021
source line/ message : [SRC]subscribe(settings.toggles, "switch.${cond}", waterStart) [MSG]Subscription must be specific to the Event you are interested in.
rule name : AtomicStateUsage line : 1058
source line/ message : [SRC]if (!state.tpwMap) state.tpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1058
source line/ message : [SRC]if (!state.tpwMap) state.tpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1059
source line/ message : [SRC]if (!state.dpwMap) state.dpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1059
source line/ message : [SRC]if (!state.dpwMap) state.dpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1060
source line/ message : [SRC]if (state.setMoisture) state.setMoisture = null ..ing any more [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1060
source line/ message : [SRC]if (state.setMoisture) state.setMoisture = null ..ing any more [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1061
source line/ message : [SRC]if (!state.seasonAdj) state.seasonAdj = 100.0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1061
source line/ message : [SRC]if (!state.seasonAdj) state.seasonAdj = 100.0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1062
source line/ message : [SRC]if (!state.weekseasonAdj) state.weekseasonAdj = 0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1062
source line/ message : [SRC]if (!state.weekseasonAdj) state.weekseasonAdj = 0 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUpdateUsage line : 1070
source line/ message : [SRC]def mapDay = [Monday:1, Tuesday:2, Wednesday:3, Thursday..6, Sunday:7] [MSG]Modifying collections in Atomic State does not work as it does with State. Read documentation for reference.
rule name : AvoidRecurringShortSchedules line : 1110
source line/ message : [SRC]runIn(60, cycleOn) // start water program [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AtomicStateUsage line : 1114
source line/ message : [SRC]int tt = state.totalTime [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AvoidRecurringShortSchedules line : 1207
source line/ message : [SRC]runIn(45, checkRunMap) // schedule checkRunMap() be.. to complete [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AvoidRecurringShortSchedules line : 1222
source line/ message : [SRC]runIn(2, checkRunMap) // jack the schedule so it runs sooner! [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AtomicStateUsage line : 1242
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1242
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1243
source line/ message : [SRC]if (state.totalTime) { [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1244
source line/ message : [SRC]String finishTime = new Date(now() + (60000 * state.tota..on.timeZone) [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1248
source line/ message : [SRC]else if (state.pauseTime) { // resuming after a pause [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1250
source line/ message : [SRC]def elapsedTime = Math.round((now() - state.pauseTime) /..s to minutes [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1251
source line/ message : [SRC]int tt = state.totalTime + elapsedTime + 1 [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1252
source line/ message : [SRC]state.totalTime = tt // keep track of the pauses, and t.. delay above [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1254
source line/ message : [SRC]state.pauseTime = null [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AvoidRecurringShortSchedules line : 1293
source line/ message : [SRC]runIn(60, cycleOn) // start water [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AtomicStateUsage line : 1296
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null // ditto [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1296
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null // ditto [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1300
source line/ message : [SRC]int tt = state.totalTime [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AbcMetric line : 1329
source line/ message : [SRC]def cycleLoop(int i) [MSG]Violation in class None. The ABC score for method [cycleLoop] is [87.0]
rule name : CyclomaticComplexity line : 1329
source line/ message : [SRC]def cycleLoop(int i) [MSG]Violation in class None. The cyclomatic complexity for method [cycleLoop] is [37]
rule name : AtomicStateUpdateUsage line : 1339
source line/ message : [SRC]def timeMap = [:] [MSG]Modifying collections in Atomic State does not work as it does with State. Read documentation for reference.
rule name : AtomicStateUsage line : 1358
source line/ message : [SRC]if ((i == 0) || (state.daysAvailable == 7) || (settings...${zone}")) { [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1399
source line/ message : [SRC]rtime = Math.round(((rtime / cyc) * (state.seasonAdj / 100.0)) + 0.4) [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1419
source line/ message : [SRC]float sa = state.seasonAdj [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AvoidRecurringShortSchedules line : 1435
source line/ message : [SRC]runIn(30, writeCycles) [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AtomicStateUsage line : 1441
source line/ message : [SRC]state.totalTime = totalTime [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1443
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null // and w..t paused yet [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1443
source line/ message : [SRC]if (state.pauseTime) state.pauseTime = null // and w..t paused yet [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUpdateUsage line : 1451
source line/ message : [SRC]def cyclesMap = [:] [MSG]Modifying collections in Atomic State does not work as it does with State. Read documentation for reference.
rule name : AtomicStateUsage line : 1491
source line/ message : [SRC]if (!state.pauseTime) { // only need to do this for th..ple contacts [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1492
source line/ message : [SRC]state.pauseTime = now() [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AvoidRecurringShortSchedules line : 1517
source line/ message : [SRC]runIn(30, subOff) [MSG]Avoid recurring short schedules unless there is a good reason for it.
rule name : AtomicStateUsage line : 1583
source line/ message : [SRC]if(!state.dpwMap) state.dpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1583
source line/ message : [SRC]if(!state.dpwMap) state.dpwMap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] [MSG]Avoid using atomicState and state in the same SmartApp.
rule name : AtomicStateUsage line : 1600
source line/ message : [SRC]state.dpwMap[zone-1] = dpw [MSG]Avoid using atomicState and state in the same SmartApp.